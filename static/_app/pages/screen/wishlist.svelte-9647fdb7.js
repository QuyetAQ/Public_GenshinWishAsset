import{S as Q,i as U,s as V,e as k,k as F,l as M,T as H,c as I,d as f,m as J,b as m,J as E,g as T,o as P,p as z,q as A,L as K,v as O,n as X,w as Z,a as C,x as $,y as x,B as tt,t as et,h as rt,E as L}from"../../chunks/index-64ac1a1c.js";import{A as G,Y as st}from"../../chunks/localstore-be2c5162.js";import{W as nt,w as ot,c as at}from"../../chunks/WishListResult-669ae59b.js";import"../../chunks/index-9a8ef8d2.js";import"../../chunks/Icon-05dd7dd7.js";import"../../chunks/index-24f6768e.js";function lt(c){let n,e,s;return e=new nt({props:{preview:!0,previewlist:c[3]}}),{c(){n=k("div"),Z(e.$$.fragment),this.h()},l(r){n=I(r,"DIV",{class:!0});var o=C(n);$(e.$$.fragment,o),o.forEach(f),this.h()},h(){m(n,"class","wish-result svelte-eisba2")},m(r,o){T(r,n,o),x(e,n,null),s=!0},p(r,o){const l={};o&8&&(l.previewlist=r[3]),e.$set(l)},i(r){s||(A(e.$$.fragment,r),s=!0)},o(r){P(e.$$.fragment,r),s=!1},d(r){r&&f(n),tt(e)}}}function it(c){let n,e,s;return{c(){n=k("div"),e=k("h1"),s=et("You're going to unresolved page, redirecting to index ..."),this.h()},l(r){n=I(r,"DIV",{class:!0});var o=C(n);e=I(o,"H1",{});var l=C(e);s=rt(l,"You're going to unresolved page, redirecting to index ..."),l.forEach(f),o.forEach(f),this.h()},h(){m(n,"class","error svelte-eisba2")},m(r,o){T(r,n,o),E(n,e),E(e,s)},p:L,i:L,o:L,d(r){r&&f(n)}}}function ct(c){let n,e,s,r,o,l,i,g,d;document.title=n=`\r
		`+c[4]("wish.result.title",{values:{item:c[0]}})+" | "+c[4]("title",{default:G})+`\r
	`;const S=[it,lt],_=[];function u(t,a){return t[2]?0:1}return l=u(c),i=_[l]=S[l](c),{c(){e=k("meta"),s=k("meta"),r=k("meta"),o=F(),i.c(),g=M(),this.h()},l(t){const a=H('[data-svelte="svelte-1r36ult"]',document.head);e=I(a,"META",{name:!0,content:!0}),s=I(a,"META",{property:!0,content:!0}),r=I(a,"META",{property:!0,content:!0}),a.forEach(f),o=J(t),i.l(t),g=M(),this.h()},h(){m(e,"name","title"),m(e,"content",c[1]),m(s,"property","og:title"),m(s,"content",c[1]),m(r,"property","twitter:title"),m(r,"content",c[1])},m(t,a){E(document.head,e),E(document.head,s),E(document.head,r),T(t,o,a),_[l].m(t,a),T(t,g,a),d=!0},p(t,[a]){(!d||a&17)&&n!==(n=`\r
		`+t[4]("wish.result.title",{values:{item:t[0]}})+" | "+t[4]("title",{default:G})+`\r
	`)&&(document.title=n),(!d||a&2)&&m(e,"content",t[1]),(!d||a&2)&&m(s,"content",t[1]),(!d||a&2)&&m(r,"content",t[1]);let w=l;l=u(t),l===w?_[l].p(t,a):(X(),P(_[w],1,1,()=>{_[w]=null}),z(),i=_[l],i?i.p(t,a):(i=_[l]=S[l](t),i.c()),A(i,1),i.m(g.parentNode,g))},i(t){d||(A(i),d=!0)},o(t){P(i),d=!1},d(t){f(e),f(s),f(r),t&&f(o),_[l].d(t),t&&f(g)}}}const wt=!0;function ut(c,n,e){let s;K(c,st,u=>e(4,s=u));let r="No Name",o=G,l,i=[];const g=(u,t)=>t?u===4?2:10:u===4?5:25,d=u=>{let t=[];return u.split("|").forEach(w=>{let[p,h,v,y,b,q,W]=w.split("/");W=W==="1",q=q==="1",h=parseInt(h,10),y=y!=="0";let N=g(h,q);b=b!=="undefined"?b:!1;const D=v==="weapon"?ot:at,{weaponType:Y,wishBoxPosition:R,vision:B}=D.data.find(j=>j.rarity===h).list.find(j=>j.name===p);t.push({type:v,weaponType:Y,vision:B,wishBoxPosition:R,name:p,rarity:h,isNew:y,stelaFortuna:q,fateType:b,fateQty:N,outfitSet:W})}),t},S=()=>{const u=["qiqi","keqing","diluc","mona","jean"],t=i.filter(({rarity:p})=>p===5);if(i.filter(({rarity:p,name:h,type:v})=>{const y=p===5&&!u.includes(h)&&v==="character";return y&&e(0,r=s(`${h}.name`)),y}).length>1){e(1,o=`Wow, I just got ${r} plus its Constelation only in 10 pull, Genshin Impact.`);return}if(t.length===2){e(0,r=t.map(({name:p})=>s(p)).join(" and ")),e(1,o=`Wow, I just got ${r} when pulling on Wish Simulator for Genshin Impact`);return}if(t.length>2){e(0,r=t.map(({name:p})=>s(p)).join(", ")),e(1,o=`Wow, I just got ${r} when pulling on Wish Simulator for Genshin Impact`);return}if(i.filter(({rarity:p,name:h,type:v},y)=>{const b=p===4;return y===0&&e(0,r=s(v==="weapon"?h:`${h}.name`)),b}).length>1){e(1,o="Cool, I just got multiple 4star items when pulling on Wish Simulator for Genshin Impact");return}e(1,o=`Yeay, I just got ${r} Genshin Impact.`)};return O(()=>{try{const u=new URL(window.location.href),a=new URLSearchParams(u.search).get("a");if(a){let w=atob(a);e(3,i=d(w)),S();return}throw new Error("No data to show")}catch{e(2,l=!0),window.location.replace("/")}}),[r,o,l,i,s]}class gt extends Q{constructor(n){super(),U(this,n,ut,ct,V,{})}}export{gt as default,wt as prerender};
